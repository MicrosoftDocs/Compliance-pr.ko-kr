---
title: Microsoft 365의 SharePoint 및 OneDrive 데이터 복원력
description: 이 문서에서는 Microsoft 365의 SharePoint 및 OneDrive 데이터 탄력성에 대한 개요를 제공합니다.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
f1.keywords:
- NOCSH
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: c267551f26b4dd96e3762b0edc2942a3cb22eb5c
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/01/2021
ms.locfileid: "51496758"
---
# <a name="sharepoint-and-onedrive-data-resiliency-in-microsoft-365"></a><span data-ttu-id="d3c3e-103">Microsoft 365의 SharePoint 및 OneDrive 데이터 복원력</span><span class="sxs-lookup"><span data-stu-id="d3c3e-103">SharePoint and OneDrive data resiliency in Microsoft 365</span></span>

<span data-ttu-id="d3c3e-104">Microsoft 365 내에서 OneDrive는 SharePoint 파일 플랫폼을 토로합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-104">Within Microsoft 365, OneDrive is built on top of the SharePoint file platform.</span></span> <span data-ttu-id="d3c3e-105">이 문서에서는 두 제품을 모두 참조하는 데 SharePoint만 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-105">In this article, only SharePoint will be used to refer to both products.</span></span> <span data-ttu-id="d3c3e-106">이 문서의 내용은 Microsoft 365와 관련이 있으며 소비자 서비스에는 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-106">The contents of this article are relevant to Microsoft 365 and do not apply to consumer services.</span></span>

<span data-ttu-id="d3c3e-107">SharePoint의 핵심 콘텐츠 저장소를 만드는 두 가지 기본 자산이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-107">There are two primary assets that make up the core content storage of SharePoint:</span></span>

- <span data-ttu-id="d3c3e-108">**메타데이터:** 각 파일에 대한 메타데이터는 Azure SQL 데이터베이스에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-108">**Metadata**: Metadata about each file is stored in Azure SQL Database.</span></span> <span data-ttu-id="d3c3e-109">Azure SQL SharePoint에서 사용하는 완전한 비즈니스 연속성 스토리와 자세한 내용은 이 문서 의 부분에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-109">Azure SQL offers a complete business continuity story that SharePoint uses and details are covered later in this article.</span></span>
- <span data-ttu-id="d3c3e-110">**Blob Storage:** SharePoint에 업로드되는 사용자 콘텐츠는 Azure Storage에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-110">**Blob storage**: User content that is uploaded into SharePoint is stored in Azure Storage.</span></span> <span data-ttu-id="d3c3e-111">SharePoint는 사용자 콘텐츠와 실제 활성/활성 시스템을 거의 실시간으로 복제할 수 있도록 Azure Storage에 사용자 지정 탄력성 계획을 구축했습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-111">SharePoint has built a custom resiliency plan on top of Azure Storage to ensure near real-time duplication of user content and a truly active/active system.</span></span>

<span data-ttu-id="d3c3e-112">데이터 탄력성 보장을 위한 전체 컨트롤 집합은 추가 섹션에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-112">The complete set of controls to ensure data resiliency is explained in further sections.</span></span>

## <a name="blob-storage-resilience"></a><span data-ttu-id="d3c3e-113">Blob 저장소 탄력성</span><span class="sxs-lookup"><span data-stu-id="d3c3e-113">Blob storage resilience</span></span>

<span data-ttu-id="d3c3e-114">SharePoint에는 Azure Storage에 고객 데이터를 저장하기 위한 사용자 지정 솔루션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-114">SharePoint has a custom-built solution for storage of customer data in Azure Storage.</span></span> <span data-ttu-id="d3c3e-115">모든 파일은 기본 및 보조 데이터 센터 지역에 동시에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-115">Every file is simultaneously written into both a primary and a secondary datacenter region.</span></span> <span data-ttu-id="d3c3e-116">두 Azure 지역에 대한 쓰기가 실패하면 파일 저장이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-116">If writes to either Azure region fail, the file save will fail.</span></span> <span data-ttu-id="d3c3e-117">Azure Storage에 콘텐츠를 작성하고 나면 체크 체크 인이 메타데이터와 별도로 저장되고 이후의 모든 읽기 중에 커밋된 쓰기가 SharePoint로 전송된 원본 파일과 동일한지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-117">After the contents are written into Azure Storage, checksums are stored separately with metadata, and are used to ensure that the committed write is identical to the original file sent to SharePoint during all future reads.</span></span> <span data-ttu-id="d3c3e-118">모든 워크플로에서 이와 동일한 기술을 사용하여 발생해야 하는 손상이 전파되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-118">This same technique is used in all workflows to prevent propagation of any corruption that should occur.</span></span> <span data-ttu-id="d3c3e-119">각 지역 내에서 Azure LRS(Locally Redundant Storage)는 높은 수준의 안정성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-119">Within each region, Azure Locally Redundant Storage (LRS) provides a high level of reliability.</span></span> <span data-ttu-id="d3c3e-120">자세한 내용은 [Azure Storage 중복성](/azure/storage/common/storage-redundancy-lrs) 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-120">See the [Azure Storage redundancy](/azure/storage/common/storage-redundancy-lrs) article for details.</span></span>

<span data-ttu-id="d3c3e-121">SharePoint는 저장소 Append-Only 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-121">SharePoint uses Append-Only storage.</span></span> <span data-ttu-id="d3c3e-122">이 프로세스를 통해 초기 저장 후 파일을 변경하거나 손상할 수 있지만 제품 내 버전 관리 기능을 사용하여 이전 버전의 파일 콘텐츠를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-122">This process ensures that files cannot be changed or corrupted after an initial save, but also by using in-product versioning, any previous version of the file contents can be retrieved.</span></span>

![Blob 저장소 탄력성](../media/assurance-blob-storage-resiliency-diagram.png)

<span data-ttu-id="d3c3e-124">두 데이터 센터의 SharePoint 환경은 두 Azure 지역의 저장소 컨테이너에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-124">SharePoint environments in either datacenter can access storage containers in both Azure regions.</span></span> <span data-ttu-id="d3c3e-125">성능상의 이유로 동일한 로컬 데이터 센터의 저장소 컨테이너가 항상 선호됩니다. 그러나 원하는 임계값 내에서 결과를 볼 수 없는 읽기 요청에는 데이터가 항상 사용 가능하도록 원격 데이터 센터에서 요청한 콘텐츠가 동일하게 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-125">For performance reasons the storage container in the same local datacenter is always preferred, however, read requests that do not see results within a desired threshold will have the same content requested from the remote datacenter to ensure data is always available.</span></span>

## <a name="metadata-resilience"></a><span data-ttu-id="d3c3e-126">메타데이터 탄력성</span><span class="sxs-lookup"><span data-stu-id="d3c3e-126">Metadata resilience</span></span>

<span data-ttu-id="d3c3e-127">SharePoint 메타데이터는 Azure Storage에 저장된 콘텐츠에 대한 선택키 및 위치가 저장되어 있는 사용자 콘텐츠에 액세스하는 데도 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-127">SharePoint metadata is also critical to accessing user content as it stores the location of and access keys to the content stored in Azure Storage.</span></span> <span data-ttu-id="d3c3e-128">이러한 데이터베이스는 광범위한 비즈니스 연속성 SQL Azure 2013에 [저장됩니다.](/azure/sql-database/sql-database-business-continuity)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-128">These databases are stored in Azure SQL, which has an extensive [business continuity plan](/azure/sql-database/sql-database-business-continuity).</span></span>

<span data-ttu-id="d3c3e-129">SharePoint는 Azure SQL 제공하는 복제 모델을 사용하며 장애 조치(failover)가 필요한지 결정하고 필요한 경우 작업을 시작하는 독점 자동화 기술을 구축했습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-129">SharePoint uses the replication model provided by Azure SQL and has built a proprietary automation technology to determine a failover is required and to initiate the operation if necessary.</span></span> <span data-ttu-id="d3c3e-130">따라서 Azure 데이터베이스 관점에서 '수동 데이터베이스 장애 조치(failover)' 범주에 SQL 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-130">As such, it falls into the 'Manual database failover' category from an Azure SQL perspective.</span></span> <span data-ttu-id="d3c3e-131">Azure SQL 복구 가능성에 대한 최신 메트릭은 에서 사용할 수 [있습니다.](/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-131">The latest metrics for Azure SQL database recoverability are available [here](/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server).</span></span>

![메타데이터 탄력성](../media/assurance-metadata-resiliency-diagram.png)

<span data-ttu-id="d3c3e-133">SharePoint는 Azure SQL 백업 시스템을 사용하여 최대 14일 동안 PITR(Point in Time Restores)을 사용하도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-133">SharePoint uses Azure SQL's backup system to enable Point in Time Restores (PITR) for up to 14 days.</span></span> <span data-ttu-id="d3c3e-134">PITR에 대한 자세한 내용은 이후 [섹션에서 설명합니다.](#deletion-backup-and-point-in-time-restore)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-134">PITR is covered more in a [later section.](#deletion-backup-and-point-in-time-restore)</span></span>

## <a name="automated-failover"></a><span data-ttu-id="d3c3e-135">자동화된 장애 조치(failover)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-135">Automated failover</span></span>

<span data-ttu-id="d3c3e-136">SharePoint는 사용자 지정 자동 장애 조치(failover)를 사용하여 위치별 이벤트가 발생할 때 고객 환경에 미치는 영향을 최소화합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-136">SharePoint uses a custom-built automated failover to minimize the impact on customer experience when a location-specific event occurs.</span></span> <span data-ttu-id="d3c3e-137">모니터링 기반 자동화는 특정 임계값을 초과하는 단일 또는 다중 구성 요소 실패를 감지하면 문제가 있는 환경에서 웜 보조로 모든 사용자의 활동이 자동으로 리디렉션됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-137">Monitoring-driven automation detecting a single or multi-component failure beyond certain thresholds will result in automated redirection of all users' activity out of the problematic environment and over to a warm secondary.</span></span> <span data-ttu-id="d3c3e-138">장애 조치(failover)를 통해 메타데이터 및 컴퓨팅 저장소가 완전히 새 데이터 센터에서 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-138">A failover results in metadata and compute storage being served entirely out of the new datacenter.</span></span> <span data-ttu-id="d3c3e-139">Blob 저장소는 항상 완전히 활성/활성 상태이기 위해 장애 조치(failover)를 변경할 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-139">As blob storage always runs entirely active/active, no change is required for a failover.</span></span> <span data-ttu-id="d3c3e-140">계산 계층은 가장 가까운 Blob 컨테이너를 선호하지만 항상 로컬 및 원격 Blob 저장소 위치를 모두 사용하여 가용성을 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-140">The compute tier will prefer the nearest blob container but will use both local and remote blob storage locations at any time to ensure availability.</span></span>

<span data-ttu-id="d3c3e-141">SharePoint는 Azure Front Door 서비스를 사용하여 Microsoft 네트워크 내부에 라우팅을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-141">SharePoint uses the Azure Front Door service to provide routing internal to the Microsoft network.</span></span> <span data-ttu-id="d3c3e-142">이 구성은 DNS에 독립적인 장애 조치(failover) 리디렉션을 허용하고 로컬 컴퓨터 캐싱의 영향을 줄입니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-142">This configuration allows failover redirection independent of DNS and reduces the effect of local-machine caching.</span></span> <span data-ttu-id="d3c3e-143">대부분의 장애 조치(failover) 작업은 최종 사용자에게 투명합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-143">Most failover operations are transparent to end users.</span></span> <span data-ttu-id="d3c3e-144">장애 조치(failover)가 있는 경우 고객은 서비스에 대한 액세스를 유지 관리하기 위해 변경할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-144">If there is a failover, customers will not need to make any changes in order to maintain access to the service.</span></span>

## <a name="versioning-and-files-restore"></a><span data-ttu-id="d3c3e-145">버전 및 파일 복원</span><span class="sxs-lookup"><span data-stu-id="d3c3e-145">Versioning and Files Restore</span></span>

<span data-ttu-id="d3c3e-146">새로 만든 문서 라이브러리의 경우 SharePoint는 기본적으로 모든 파일에 대해 500개 버전으로 기본 설정되어 있으며 필요한 경우 더 많은 버전을 유지하도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-146">For newly created document libraries, SharePoint defaults to 500 versions on every file and can be configured to retain more versions if desired.</span></span> <span data-ttu-id="d3c3e-147">UI는 100개 미만의 버전을 설정할 수 없지만 공용 API를 사용하여 더 적은 수의 버전을 저장하도록 시스템을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-147">The UI doesn't allow a value fewer than 100 versions to be set, but it is possible to set the system to store fewer versions using public APIs.</span></span> <span data-ttu-id="d3c3e-148">안정성의 경우 100보다 작은 값은 권장되지 않는 것이 며 사용자 작업으로 인해 부적절한 데이터 손실을 야기할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-148">For reliability, any value less than 100 isn't recommended and can result in user activity causing inadvertent data loss.</span></span>

<span data-ttu-id="d3c3e-149">버전에 대한 자세한 내용은 [Versioning in SharePoint을 참조하세요.](/microsoft-365/community/versioning-basics-best-practices)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-149">For more information about versioning, see [Versioning in SharePoint](/microsoft-365/community/versioning-basics-best-practices).</span></span>

<span data-ttu-id="d3c3e-150">파일 복원은 SharePoint의 문서 라이브러리에서 지난 30일 동안의 두 번째 시간으로 '뒤로'로 이동하는 능력입니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-150">Files Restore is the ability to go 'back in time' on any Document Library in SharePoint to any second of time in the last 30 days.</span></span> <span data-ttu-id="d3c3e-151">이 프로세스를 사용하여 랜섬웨어, 대량의 지우기, 손상 또는 기타 이벤트를 복구할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-151">This process can be used to recover from ransomware, mass deletions, corruption, or any other event.</span></span> <span data-ttu-id="d3c3e-152">이 기능은 기본 버전을 줄이면 이 복원의 효율성을 줄일 수 있도록 파일 버전을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-152">This feature uses file versions so reducing default versions can reduce the effectiveness of this restore.</span></span>

<span data-ttu-id="d3c3e-153">파일 복원 기능은 [OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) 및 SharePoint 둘 다에 대해 [문서화되어 있습니다.](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-153">The Files Restore feature is documented for both [OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) and [SharePoint](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a).</span></span>

## <a name="deletion-backup-and-point-in-time-restore"></a><span data-ttu-id="d3c3e-154">Deletion, backup, and Point in Time Restore</span><span class="sxs-lookup"><span data-stu-id="d3c3e-154">Deletion, backup, and Point in Time Restore</span></span>

<span data-ttu-id="d3c3e-155">SharePoint에서 삭제된 사용자 콘텐츠는 다음과 같은 삭제 흐름을 통과합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-155">User content deleted from SharePoint goes through the following deletion flow.</span></span>

<span data-ttu-id="d3c3e-156">삭제된 항목은 일정 기간 동안 재활용 보관에 보관됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-156">Deleted items are retained in recycle bins for a certain period of time.</span></span> <span data-ttu-id="d3c3e-157">SharePoint의 경우 보존 시간은 93일입니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-157">For SharePoint, the retention time is 93 days.</span></span> <span data-ttu-id="d3c3e-158">원래 위치에서 항목을 삭제할 때 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-158">It begins when you delete the item from its original location.</span></span> <span data-ttu-id="d3c3e-159">사이트 재활용 모음에서 항목을 삭제하면 사이트 모음 재활용 모음으로 [들어갑니다.](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-159">When you delete the item from the site recycle bin, it goes into the [site collection recycle bin](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span> <span data-ttu-id="d3c3e-160">남은 93일 동안 이 곳을 유지한 다음 영구적으로 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-160">It stays there for the remainder of the 93 days, and then is permanently deleted.</span></span> <span data-ttu-id="d3c3e-161">재활용 쓰레기 수거란 사용 방법에 대한 자세한 내용은 다음 링크를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-161">More information about how to use the recycle bin is available at these links:</span></span>

- [<span data-ttu-id="d3c3e-162">Recycle Bin의 항목 복원</span><span class="sxs-lookup"><span data-stu-id="d3c3e-162">Restore items in the Recycle Bin</span></span>](https://support.office.com/article/Restore-items-in-the-Recycle-Bin-of-a-SharePoint-site-6df466b6-55f2-4898-8d6e-c0dff851a0be)
- <span data-ttu-id="d3c3e-163">사이트 모음 재활용 모음에서 삭제된 [항목을 복원합니다.](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-163">[Restore deleted items from the Site Collection Recycle Bin](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span>

<span data-ttu-id="d3c3e-164">이 프로세스는 기본 삭제 흐름으로, 보존 정책 또는 레이블을 고려하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-164">This process is the default deletion flow and does not take into account retention policies or labels.</span></span> <span data-ttu-id="d3c3e-165">자세한 내용은 SharePoint 및 [OneDrive의 보존에 대해 자세히를 참조하세요.](/microsoft-365/compliance/retention-policies-sharepoint)</span><span class="sxs-lookup"><span data-stu-id="d3c3e-165">For more information, see [Learn about retention for SharePoint and OneDrive](/microsoft-365/compliance/retention-policies-sharepoint).</span></span>

<span data-ttu-id="d3c3e-166">93일 재순환 파이프라인이 완료되면 메타데이터 및 Blob Storage에 대해 독립적으로 폐기됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-166">After the 93-day recycle pipeline is complete, deletion takes place independently for Metadata and for Blob Storage.</span></span> <span data-ttu-id="d3c3e-167">메타데이터는 데이터베이스에서 즉시 제거되어 백업에서 메타데이터를 복원하지 않으면 콘텐츠를 읽을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-167">Metadata will be removed immediately from the database, which makes the content unreadable unless the metadata is restored from backup.</span></span> <span data-ttu-id="d3c3e-168">SharePoint는 14일 동안의 메타데이터 백업을 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-168">SharePoint maintains 14 days-worth of backups of metadata.</span></span> <span data-ttu-id="d3c3e-169">이러한 백업은 거의 실시간으로 로컬로 수행된 다음 이 게시 당시 설명서에 따라 [](/azure/sql-database/sql-database-automated-backups) 5~10분 일정에 따라 중복 Azure Storage 컨테이너의 저장소로 푸시됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-169">These backups are taken locally in near real time and then pushed to storage in redundant Azure Storage containers on, [according to documentation](/azure/sql-database/sql-database-automated-backups) at the time of this publication, a 5-10-minute schedule.</span></span>

<span data-ttu-id="d3c3e-170">Blob Storage 콘텐츠를 삭제할 때 SharePoint는 Azure Blob Storage의 소프트 삭제 기능을 사용하여 실수로 또는 악의적인 삭제로부터 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-170">When deleting Blob Storage content, SharePoint utilizes the soft delete feature for Azure Blob Storage to protect against accidental or malicious deletion.</span></span> <span data-ttu-id="d3c3e-171">이 기능을 사용하면 콘텐츠를 영구적으로 삭제하기 전까지 총 14일 동안 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-171">Using this feature, we have a total of 14 days in which to restore content before it is permanently deleted.</span></span>

>[!Note]
><span data-ttu-id="d3c3e-172">Microsoft 응용 프로그램에서 표준 프로세스에 대한 콘텐츠를 재활용 쓰레기통으로 보내지만 SharePoint는 재활용 쓰레기 수거통을 건너뛰고 즉시 삭제하도록 허용하는 API를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-172">While Microsoft applications will send content to the recycle bin for the standard process, SharePoint does provide APIs that allow for skipping the recycle bin and forcing an immediate delete.</span></span> <span data-ttu-id="d3c3e-173">응용 프로그램을 검토하여 규정 준수를 위해 필요한 경우만 이행되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-173">Review your applications to ensure this is only done when necessary for compliance reasons.</span></span>

## <a name="integrity-checks"></a><span data-ttu-id="d3c3e-174">무결성 검사</span><span class="sxs-lookup"><span data-stu-id="d3c3e-174">Integrity Checks</span></span>

<span data-ttu-id="d3c3e-175">SharePoint는 다양한 방법을 사용하여 데이터 수명 주기의 모든 단계에서 Blob 및 메타데이터의 무결성을 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-175">SharePoint uses various methods to ensure the integrity of blobs and metadata at all stages of the data lifecycle:</span></span>

- <span data-ttu-id="d3c3e-176">**메타데이터에 저장된** 파일 해시: 전체 파일의 해시가 파일 메타데이터와 함께 저장되어 모든 작업 중에 문서 수준 데이터 무결성이 유지 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-176">**File hash stored in metadata**: Hash of the entire file is stored with file metadata to ensure document level data integrity is maintained during all operations</span></span>
- <span data-ttu-id="d3c3e-177">**메타데이터에** 저장된 Blob 해시: 각 Blob 항목은 암호화된 콘텐츠의 해시를 저장하여 Azure 저장소의 손상으로부터 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-177">**Blob hash stored in metadata**: Each blob-item stores a hash of the encrypted content to protect against corruption in underlying Azure storage.</span></span>
- <span data-ttu-id="d3c3e-178">**데이터 무결성 작업:** 14일마다 데이터베이스의 항목을 나열하고 Azure Storage에 나열된 Blob과 일치하여 각 사이트가 무결성을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-178">**Data integrity job**: Every 14 days, each site is scanned for integrity by listing items in the database and matching those up with listed blobs in Azure storage.</span></span> <span data-ttu-id="d3c3e-179">이 작업은 누락된 저장소 Blob을 보고하고 필요한 경우 [Azure 저장소](/azure/storage/blobs/soft-delete-blob-overview) 소프트 삭제 기능을 통해 해당 Blob을 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d3c3e-179">The job reports any blob-references missing storage-blobs and can retrieve those blobs through the [Azure storage soft-delete](/azure/storage/blobs/soft-delete-blob-overview) feature if needed.</span></span>
